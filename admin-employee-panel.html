    const id = document.getElementById("employeeId").value;

    // Prepare form data (multipart/form-data)
    const formData = new FormData();

    formData.append("name", document.getElementById("name").value);
    formData.append("employee_id", document.getElementById("employee_id").value);
    formData.append("designation", document.getElementById("designation").value);
    formData.append("dob", document.getElementById("dob").value);
    formData.append("joining_date", document.getElementById("joining_date").value);
    formData.append("payroll_name", document.getElementById("payroll_name").value);
    formData.append("team", document.getElementById("team").value);
    formData.append("grade", document.getElementById("grade").value);
    formData.append("password", document.getElementById("password").value);

    const fileInput = document.getElementById("profileImageFile");
    if (fileInput.files.length > 0) {
      formData.append("profileimage", fileInput.files[0]);
    }

    let url = "/employees";
    let method = "POST";
    if (id) {
      url = `/employees/${id}`;
      method = "PUT";
    }

    try {
      const response = await fetch(url, {
        method,
        body: formData, // sending FormData with file included
      });

      if (!response.ok) {
        const errorData = await response.json();
        throw new Error(errorData.error || "Failed to save employee");
      }

      // Clear form and refresh table after save
      resetForm();
      fetchEmployees();

    } catch (error) {
      alert(error.message);
    }
  }
